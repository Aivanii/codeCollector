<title>Микро и макро задачи в JavaScript</title>
<link rel="stylesheet" href="../../src/articlesStyles.css">
<div class="TopContainer">
    <div class="FlexContainer">
        <ul class="TopUl">
            <li class="TopLi">
                <a class="TopLiLink" href="/home">Home</a>
            </li>
            <li class="TopLi">
                <a class="TopLiLink" href="/articles/Frontend_Development">Frontend Development</a>
            </li>
            <li class="TopLi">
                <a class="TopLiLink" href="/articles/Frontend_Development/JavaScript">JavaScript</a>
            </li>
        </ul>
        <span class="DateSpan">20.10.2024</span>
    </div>
    <h1 class="TitleText">Микро и макро задачи в JavaScript</h1>
</div>

<p class="Text">В этой статье мы подробно рассмотрим концепции микро и макро задач в JavaScript, их отличие, порядок выполнения и примеры использования.</p>

<h2 class="ThemeTitle">Что такое микро и макро задачи?</h2>
<p class="Text">В JavaScript, когда мы говорим о задачах, мы имеем в виду код, который должен быть выполнен. Эти задачи можно разделить на две категории: микро задачи (microtasks) и макро задачи (macrotasks).</p>

<p class="Text">Микро задачи — это задачи, которые добавляются в очередь микро задач и выполняются после текущего выполнения скрипта, но перед следующей макро задачей. Это означает, что они имеют более высокий приоритет.</p>

<p class="Text">Макро задачи — это задачи, которые добавляются в очередь макро задач и выполняются после всех микро задач. Они включают в себя такие операции, как таймеры (например, setTimeout) и обработчики событий.</p>

<h2 class="ThemeTitle">Как работают микро и макро задачи?</h2>
<p class="Text">JavaScript использует цикл событий (event loop) для управления выполнением кода. Когда код выполняется, он может добавлять задачи в разные очереди. После завершения выполнения текущего кода, JavaScript сначала обрабатывает все микро задачи, а затем переходит к макро задачам.</p>

<p class="Text">Этот процесс гарантирует, что все микро задачи будут выполнены до того, как начнётся выполнение следующей макро задачи, что позволяет избежать некоторых проблем с асинхронностью.</p>

<h2 class="ThemeTitle">Пример работы с микро и макро задачами</h2>
<p class="Text">Рассмотрим следующий пример, который иллюстрирует, как работают микро и макро задачи:</p>

<div class="CodeContainer">
    <div class="SpanCodeboxLine">
        <span class="SpanLine">1</span>
        <span class="SpanLine">2</span>
        <span class="SpanLine">3</span>
        <span class="SpanLine">4</span>
        <span class="SpanLine">5</span>
        <span class="SpanLine">6</span>
        <span class="SpanLine">7</span>
        <span class="SpanLine">8</span>
        <span class="SpanLine">9</span>
        <span class="SpanLine">10</span>
        <span class="SpanLine">11</span>
        <span class="SpanLine">12</span>
        <span class="SpanLine">13</span>
        <span class="SpanLine">14</span>
        <span class="SpanLine">15</span>
        <span class="SpanLine">16</span>
        <span class="SpanLine">17</span>
        <span class="SpanLine">18</span>
        <span class="SpanLine">19</span>
    </div>
    <pre class="CodeboxCode">
console.log('Start');

setTimeout(() => {
    console.log('Macro Task 1');
}, 0);

Promise.resolve().then(() => {
    console.log('Micro Task 1');
});

setTimeout(() => {
    console.log('Macro Task 2');
}, 0);

Promise.resolve().then(() => {
    console.log('Micro Task 2');
});

console.log('End');
    </pre>
</div>

<p class="Text">Когда вы выполните этот код, вы увидите следующий вывод:</p>
<ul class="Text">
    <li>Start</li>
    <li>End</li>
    <li>Micro Task 1</li>
    <li>Micro Task 2</li>
    <li>Macro Task 1</li>
    <li>Macro Task 2</li>
</ul>

<p class="Text">Как видно, все микро задачи выполняются перед макро задачами. Это демонстрирует порядок выполнения задач в JavaScript.</p>

<h2 class="ThemeTitle">Когда использовать микро и макро задачи?</h2>
<p class="Text">Понимание разницы между микро и макро задачами важно для эффективного управления асинхронным кодом. Если вам нужно выполнить код сразу после текущего выполнения, используйте микро задачи. Если же вы хотите отложить выполнение до следующего цикла событий, используйте макро задачи.</p>

<p class="Text">Например, если вы хотите обновить пользовательский интерфейс после завершения всех текущих операций, вы можете использовать микро задачи. Если вы хотите выполнить код после обработки событий, таких как нажатие кнопки, используйте макро задачи.</p>

<h2 class="ThemeTitle">Заключение</h2>
<p class="Text">Понимание микро и макро задач в JavaScript — это ключ к эффективному управлению асинхронным кодом. Это знание помогает разработчикам избегать проблем, связанных с порядком выполнения кода, и позволяет создавать более отзывчивые и устойчивые приложения.</p>
